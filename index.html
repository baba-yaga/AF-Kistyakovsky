<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Александр Ф. Кистяковский — коротко о главном</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <div id="page-top" class="sr-only" aria-hidden="true"></div>

  <div class="top-nav" id="top">
    <div class="container nav-inner">
      <a class="brand" href="#page-top">А.&nbsp;Ф. Кистяковский</a>
      <nav class="nav-links" aria-label="Основное меню">
        <a href="#era">Эпоха</a>
        <a href="#bio">Биография</a>
        <a href="#legacy">Наследие</a>
        <a href="#sons">Семья</a>
        <a href="#works">Труды</a>
      </nav>
    </div>
  </div>

  <header class="container">
    <div class="paper">
      <div class="grain"></div>
      <div class="container hero">
        <div>
          <span class="tag reveal">Киев · XIX&nbsp;век</span>
          <h1 class="reveal">Александр&nbsp;Фёдорович Кистяковский (1833–1885)</h1>
          <p class="lead reveal">
            Профессор права, публицист и общественный деятель. Один из тех,
            кто сделал уголовное право гуманнее и ближе к людям.
          </p>

          <ul class="facts">
            <li class="reveal"><span class="dot">•</span>
              <span><strong>Против смертной казни.</strong> «Исследование о смертной казни» объяснило, почему казнь не делает общество безопаснее.</span>
            </li>
            <li class="reveal"><span class="dot">•</span>
              <span><strong>Профессор Университета св.&nbsp;Владимира.</strong> Учил смотреть на закон через историю и сравнение.</span>
            </li>
            <li class="reveal"><span class="dot">•</span>
              <span><strong>Хранитель традиции.</strong> Подготовил <em>научное издание</em> свода <em>«Права, по которым судится малороссийский народ»</em>.</span>
            </li>
            <li class="reveal"><span class="dot">•</span>
              <span><strong>Про людей.</strong> Поддерживал гуманную тюремную реформу и помощь подросткам.</span>
            </li>
          </ul>

        </div>

        <figure class="frame float sepia">
          <img src="assets/images/kistyakovsky_af.jpg" alt="А. Ф. Кистяковский" />
          <figcaption class="caption"> Александр&nbsp;Фёдорович Кистяковский. 1833—1885</figcaption>
        </figure>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- Эпоха -->
    <section id="era" class="section">
      <div class="paper">
        <div class="grain"></div>
        <div class="container" style="padding:22px 26px">
          <h2>Эпоха</h2>
          <p>Между 1850 и 1885 годами мир пережил индустриальную революцию, рост железных дорог, телеграфа и капиталистической экономики, что ускорило урбанизацию и культурные связи. В России этот период ознаменован Крымской войной (1853–1856), Великими реформами Александра II, прежде всего отменой крепостного права (1861), реформой образования, суда и земского самоуправления.</p>
          <p>Эти изменения стимулировали экономическое и культурное развитие городов, в том числе Киева, где активно строились предприятия, учебные заведения и железнодорожные линии (открытие железной дороги в 1868&nbsp;г.). После убийства Александра II (1881) началась реакция и усиление цензуры, что ограничило общественную жизнь, но Киев уже стал важным административным, промышленным и университетским центром Юго-Западного края Российской империи.</p>
        </div>
      </div>
    </section>

    <!-- Биография + памятник -->
    <section id="bio" class="section cols">
      <article class="paper stack">
        <div class="grain"></div>
        <div style="padding:22px 22px 8px">
          <h2>Коротко о жизни</h2>
          <p>Родился в Черниговской губернии в семье священника. Окончил юридический факультет в Киеве — и остался в университете. В 1860-е выступил с дерзким для своего времени исследованием против смертной казни. С 1870 — ординарный профессор уголовного права и процесса Университета св.&nbsp;Владимира.</p>
          <p>Его принцип: закон развивается вместе с обществом, значит — изучаем не только кодексы, но и обычай, историю, судебную практику.</p>
        </div>
      </article>

      <figure class="paper frame sepia">
        <img src="assets/images/family_af.jpg" alt="Семейный портрет А. Ф. Кистяковского" />
        <figcaption class="caption">Семейный портрет (А.&nbsp;Ф. Кистяковский с супругой и детьми)</figcaption>
      </figure>
    </section>

    <!-- Наследие -->
    <section id="legacy" class="section">
      <div class="paper">
        <div class="grain"></div>
        <div class="container" style="padding:22px 26px">
          <h2>Что он оставил после себя</h2>
          <div class="cols">
            <div>
              <p><strong>Идеи:</strong> гуманизация наказаний, историко-сравнительный метод, внимание к правовому обычаю — право должно понимать живую жизнь.</p>
              <p><strong>Книги:</strong> «Исследование о смертной казни»; «Элементарный учебник общего уголовного права»; <em>научное издание</em> свода 1743&nbsp;г. «Права, по которым судится малороссийский народ» (Киев, 1879).</p>
            </div>
            <div>
              <p><strong>Богатая династия:</strong> среди потомков — выдающиеся учёные, банкиры, меценаты и политические деятели.
                <!--
                <a class="btn--link" href="https://ru.wikipedia.org/wiki/%D0%9A%D0%B8%D1%81%D1%82%D1%8F%D0%BA%D0%BE%D0%B2%D1%81%D0%BA%D0%B8%D0%B9,_%D0%92%D0%BB%D0%B0%D0%B4%D0%B8%D0%BC%D0%B8%D1%80_%D0%90%D0%BB%D0%B5%D0%BA%D1%81%D0%B0%D0%BD%D0%B4%D1%80%D0%BE%D0%B2%D0%B8%D1%87" target="_blank" rel="noopener">Владимир&nbsp;А.&nbsp;Кистяковский</a>,
                <a class="btn--link" href="https://ru.wikipedia.org/wiki/%D0%9A%D0%B8%D1%81%D1%82%D1%8F%D0%BA%D0%BE%D0%B2%D1%81%D0%BA%D0%B8%D0%B9,_%D0%91%D0%BE%D0%B3%D0%B4%D0%B0%D0%BD_%D0%90%D0%BB%D0%B5%D0%BA%D1%81%D0%B0%D0%BD%D0%B4%D1%80%D0%BE%D0%B2%D0%B8%D1%87" target="_blank" rel="noopener">Богдан&nbsp;А.&nbsp;Кистяковский</a>,
                <a class="btn--link" href="https://en.wikipedia.org/wiki/George_Kistiakowsky" target="_blank" rel="noopener">George (Георгий)&nbsp;Kistiakowsky</a>.
              -->
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="sons" class="section">
      <h2>Шесть сыновей — шесть историй</h2>
      <figure class="paper frame sepia" style="margin-bottom:22px">
        <img src="assets/images/alexandra_and_six_sons_ps.jpg" alt="Александра Ивановна Кистяковская с шестью сыновьями" />
        <figcaption class="caption">Александра&nbsp;Ивановна Кистяковская и сыновья: Богдан, Борис, Игорь, Владимир, Юлий и Александр. Около 1900 года. </figcaption>
      </figure>
    <!--  <p style="color:var(--muted)">Фотографии семейного архива — пока без финальной сепии, но уже с нами.</p> -->
      <div class="sons">
        <a class="son" href="#" data-son-id="vladimir">
          <figure class="portrait sepia">
            <img src="assets/images/владимир.jpg" alt="Владимир Кистяковский" loading="lazy" />
          </figure>
          <h3 style="margin:10px 0 4px;font-size:18px">Владимир Кистяковский</h3>
          <small>1865-1952</small>
        </a>
        <a class="son" href="#" data-son-id="bogdan">
          <figure class="portrait sepia">
            <img src="assets/images/богдан.jpg" alt="Богдан Кистяковский" loading="lazy" />
          </figure>
          <h3 style="margin:10px 0 4px;font-size:18px">Богдан Кистяковский</h3>
          <small>1868—1920</small>
        </a>
        <a class="son" href="#" data-son-id="yuly">
          <figure class="portrait sepia">
            <img src="assets/images/юлий.jpg" alt="Юлий Кистяковский" loading="lazy" />
          </figure>
          <h3 style="margin:10px 0 4px;font-size:18px">Юлий Кистяковский</h3>
          <small>1872-1920</small>
        </a>
        <a class="son" href="#" data-son-id="alexander">
          <figure class="portrait sepia">
            <img src="assets/images/александр.jpg" alt="Александр Кистяковский" loading="lazy" />
          </figure>
          <h3 style="margin:10px 0 4px;font-size:18px">Александр Кистяковский</h3>
          <small>1874-1923</small>
        </a>
        <a class="son" href="#" data-son-id="boris">
          <figure class="portrait sepia">
            <img src="assets/images/борис.jpg" alt="Борис Кистяковский" loading="lazy" />
          </figure>
          <h3 style="margin:10px 0 4px;font-size:18px">Борис Кистяковский</h3>
          <small>1876-1940</small>
        </a>
        <a class="son" href="#" data-son-id="igor">
          <figure class="portrait sepia">
            <img src="assets/images/игорь.jpg" alt="Игорь Кистяковский" loading="lazy" />
          </figure>
          <h3 style="margin:10px 0 4px;font-size:18px">Игорь Кистяковский</h3>
          <small>1876-1940</small>
        </a>
      </div>
    </section>

    <!-- Труды -->
    <section id="works" class="section">
      <div class="paper">
        <div class="grain"></div>
        <div class="container" style="padding:22px 0">
          <h2>Избранные труды</h2>
          <ul>
            <li><strong>Исследование о смертной казни</strong> (1867).</li>
            <li><strong>Элементарный учебник общего уголовного права</strong> (изд. 1877, 1882, 1891).</li>
            <li><strong>Права, по которым судится малороссийский народ</strong> — <em>научное издание свода 1743 года</em> &nbsp;(1879).</li>
          </ul>
        </div>
      </div>
    </section>
  </main>

  <footer>© Страница о наследии А.&nbsp;Ф. Кистяковского </footer>

  <!-- Modal for Son Details -->
  <div id="son-modal" class="modal" aria-hidden="true" role="dialog">
    <div class="modal-content paper">
      <button class="modal-close" aria-label="Закрыть">×</button>
      <div class="modal-body">
        <!-- Content will be loaded here -->
      </div>
    </div>
  </div>

  <script>
    // Basic modal functionality (to be expanded)
    const sonModal = document.getElementById('son-modal');
    const modalCloseButton = sonModal.querySelector('.modal-close');
    const modalBody = sonModal.querySelector('.modal-body');

    document.querySelectorAll('.son').forEach(card => {
      card.addEventListener('click', async (e) => {
        e.preventDefault(); // Prevent default link behavior

        const sonId = card.dataset.sonId; // Get the son's ID from data-son-id attribute
        const sonPagePath = `assets/sons/${sonId}.html`;

        try {
          const response = await fetch(sonPagePath);
          if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
          }
          const html = await response.text();

          // Create a temporary div to parse the fetched HTML
          const tempDiv = document.createElement('div');
          tempDiv.innerHTML = html;

          // Extract the content from the <main> section of the son's page
          const sonContent = tempDiv.querySelector('main').innerHTML;
          modalBody.innerHTML = sonContent;

          // Update modal title (optional, can be done by extracting from sonContent)
          const sonTitle = tempDiv.querySelector('title').textContent;
          sonModal.querySelector('.modal-content').setAttribute('aria-label', sonTitle);

          sonModal.setAttribute('aria-hidden', 'false');
          sonModal.classList.add('is-open');
          document.body.style.overflow = 'hidden'; // Prevent scrolling body when modal is open

          // Scroll to top of modal content
          modalBody.scrollTop = 0;

        } catch (error) {
          console.error('Failed to load son details:', error);
          modalBody.innerHTML = `<p>Не удалось загрузить информацию о ${sonId}. Пожалуйста, попробуйте еще раз.</p>`;
          sonModal.setAttribute('aria-hidden', 'false');
          sonModal.classList.add('is-open');
          document.body.style.overflow = 'hidden';
        }
      });
    });

    modalCloseButton.addEventListener('click', () => {
      sonModal.setAttribute('aria-hidden', 'true');
      sonModal.classList.remove('is-open');
      document.body.style.overflow = ''; // Restore body scrolling
      modalBody.innerHTML = ''; // Clear content when closing
    });

    sonModal.addEventListener('click', (e) => {
      if (e.target === sonModal) { // Close if clicked outside modal content
        modalCloseButton.click();
      }
    });

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && sonModal.classList.contains('is-open')) {
        modalCloseButton.click();
      }
    });

    // Highlight active navigation link on scroll
    const sections = document.querySelectorAll('main section');
    const navLinks = document.querySelectorAll('.nav-links a');

    const observerOptions = {
      root: null,
      rootMargin: '0px',
      threshold: 0.5 // Highlight when 50% of the section is visible
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          navLinks.forEach(link => {
            link.classList.remove('is-active');
            if (link.getAttribute('href') === `#${entry.target.id}`) {
              link.classList.add('is-active');
            }
          });
        }
      });
    }, observerOptions);

    sections.forEach(section => {
      observer.observe(section);
    });

    // Initial check for active link on page load
    window.addEventListener('load', () => {
      const currentHash = window.location.hash;
      if (currentHash) {
        navLinks.forEach(link => {
          if (link.getAttribute('href') === currentHash) {
            link.classList.add('is-active');
          }
        });
      }
    });
  </script>
</body>
</html>
